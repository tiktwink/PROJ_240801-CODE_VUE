import{av as N,b6 as C,ax as T,b4 as S,b5 as h,ay as j,az as D,aA as c,aB as r,aG as e,c as d,aH as s,aV as u,aC as p,aD as b,F as f,aE as g,aF as v,aI as E,aJ as M}from"./index-4Bm1Eb5i.js";function w(n){n=parseInt(n);var l=new Date(n),k=l.getFullYear(),I=l.getMonth()+1,a=l.getDate(),y=l.getHours(),_=l.getMinutes(),m=l.getSeconds(),o=k+"-"+x(I)+"-"+x(a)+" "+x(y)+":"+x(_)+":"+x(m);return o}function x(n){return parseInt(n)<10&&(n="0"+n),n}var V=15374448e5;w(parseInt(V));const z={data(){return{checkoutStore:C(),examStore:T(),exams:[],papers:[],mode:"exam",timeText:w(Date.now())}},mounted(){this.mode=this.checkoutStore.mode,this.mode==="exam"?(console.log("exam!!"),this.checkoutStore.exams.forEach(n=>{S.get(`/api/paper/indexs?examId=${n.id}`,{headers:{username:h().username,token:h().token}}).then(l=>{l.data.code===0&&this.exams.push({...n,papers:l.data.data})})})):this.mode==="paper"&&this.checkoutStore.papers.forEach(n=>{S.get(`/api/paper/DS?paperId=${n.id}`,{headers:{username:h().username,token:h().token}}).then(l=>{l.data.code===0&&this.papers.push(l.data.data)})})},unmounted(){},components:{NScrollbar:j}},t=n=>(E("data-v-de2671af"),n=n(),M(),n),B={class:"bg-accent h-[100vh] relative"},F=t(()=>e("p",{class:"text-3xl font-bold text-center py-4 max-h-[5rem]"},"评阅详情",-1)),H={class:"flex flex-wrap justify-center gap-x-8 pb-2 mt-1 mb-1 max-h-[3rem]"},U={class:"text-lg flex items-center"},A=t(()=>e("text",{class:"font-bold text-xl"},"评阅模式：",-1)),L={class:"text-lg flex items-center"},Y=t(()=>e("text",{class:"font-bold text-xl"},"评阅时间：",-1)),G={key:0,class:"text-lg flex items-center"},J=t(()=>e("text",{class:"font-bold text-xl"},"评阅考试数：",-1)),O={key:1,class:"text-lg flex items-center"},P=t(()=>e("text",{class:"font-bold text-xl"},"评阅试卷数：",-1)),R={key:2,class:"text-lg flex items-center"},Z=t(()=>e("text",{class:"font-bold text-xl"},"评阅试卷数：",-1)),q=t(()=>e("span",{class:"text-lg flex items-center"},[e("text",{class:"font-bold text-xl"},"评阅操作人ID："),d("1001")],-1)),K={key:0},Q=t(()=>e("p",{class:"text-xl font-bold mb-4 mx-6"},"本次评阅的各考试信息",-1)),W={class:"exam px-0 mb-4"},X={class:"px-2 flex gap-x-6 text-lg"},$={class:"flex items-center"},ee=t(()=>e("text",{class:"font-bold"},"考试ID：",-1)),te={class:"flex items-center"},se=t(()=>e("text",{class:"font-bold"},"考试时间：",-1)),oe={class:"flex items-center"},ne=t(()=>e("text",{class:"font-bold"},"考试地点：",-1)),le={class:"flex items-center"},ae=t(()=>e("text",{class:"font-bold"},"考试人数：",-1)),ce={class:"flex items-center"},re=t(()=>e("text",{class:"font-bold"},"考试科目：",-1)),de={class:"flex items-center"},ie=t(()=>e("text",{class:"font-bold"},"科目ID：",-1)),xe=t(()=>e("p",{class:"text-lg font-bold mx-2 mt-4"},"该考试的各试卷信息",-1)),_e={class:"paper mb-2 bg-accent hover:bg-secondary"},he=t(()=>e("text",null,"试卷ID：",-1)),ue=t(()=>e("text",null,"考生ID：",-1)),me=t(()=>e("text",null,"考生姓名：",-1)),pe=t(()=>e("text",null,"是否参考：",-1)),be=t(()=>e("text",null,"是否已导入：",-1)),fe=t(()=>e("text",null,"是否已阅：",-1)),ge={key:1},ve={class:"paper-paper cursor-pointer rounded-lg bg-accent hover:bg-secondary py-1.5 pl-4 pr-2 flex justify-between flex-wrap items-center gap-x-4 gap-y-2"},ke=t(()=>e("text",null,"试卷ID：",-1)),Ie=t(()=>e("text",null,"考试ID：",-1)),ye=t(()=>e("text",null,"考生ID：",-1)),Se=t(()=>e("text",null,"考生姓名：",-1)),De=t(()=>e("text",null,"参考时间：",-1)),we=t(()=>e("text",null,"评阅时间：",-1)),Ne=t(()=>e("text",null,"评阅结果：",-1)),Ce=t(()=>e("text",null,"评阅得分：",-1)),Te={class:"text-red"},je=t(()=>e("text",null,"题目总分：",-1)),Ee=t(()=>e("span",{class:"mx-0 btn btn-sm btn-ghost border-none bg-white text-info hover:text-black hover:bg-info hover:text-white"},"详情",-1));function Me(n,l,k,I,a,y){const _=D("NScrollbar"),m=D("n-scrollbar");return c(),r("div",B,[e("span",{class:"absolute top-6 left-4 h-[36px] px-4 text-lg btn btn-sm bg-white border-none hover:bg-secondary",onClick:l[0]||(l[0]=o=>n.$router.push("/"))},"返回首页"),e("span",{class:"absolute top-6 right-4 h-[36px] px-4 text-lg btn btn-sm bg-white border-none hover:bg-secondary",onClick:l[1]||(l[1]=o=>n.$router.push("/aicheck"))},"继续阅卷"),F,e("div",H,[e("span",U,[A,d(s(a.mode==="exam"?"阅考试模式":"阅试卷模式"),1)]),e("span",L,[Y,d(s(a.timeText),1)]),a.mode==="exam"?(c(),r("span",G,[J,d(s(a.exams.length),1)])):u("",!0),a.mode==="exam"?(c(),r("span",O,[P,d(s(a.exams.reduce((o,i)=>o+i.num,0)),1)])):u("",!0),a.mode==="paper"?(c(),r("span",R,[Z,d(s(a.papers.length),1)])):u("",!0),q]),a.mode==="exam"?(c(),r("div",K,[p(_,{style:{"box-sizing":"border-box","background-color":"#fff",padding:"1rem 1.5rem",border:"0 #f00 solid",height:"calc(100vh - 8rem)",width:"calc(100vw - 2rem)","margin-left":"1rem","border-radius":"0.75rem"}},{default:b(()=>[Q,(c(!0),r(f,null,g(a.exams,o=>(c(),r("div",W,[e("div",X,[e("span",$,[ee,d(s(o.id),1)]),e("span",te,[se,d(s(o.examTime.slice(0,19).replace("T"," ")),1)]),e("span",oe,[ne,d(s(o.examPos),1)]),e("span",le,[ae,d(s(o.num),1)]),e("span",ce,[re,d(s(o.subjectName),1)]),e("span",de,[ie,d(s(o.subjectId),1)])]),xe,p(_,{style:{"max-height":"300px","border-radius":"0.5rem","background-color":"#fff",padding:"1rem 0.5rem"}},{default:b(()=>[(c(!0),r(f,null,g(o.papers,i=>(c(),r("div",_e,[e("span",null,[he,e("text",null,s(i.id),1)]),e("span",null,[ue,e("text",null,s(i.studentId),1)]),e("span",null,[me,e("text",null,s(i.studentName),1)]),e("span",null,[pe,e("text",{class:v({"text-red":i.tested===0})},s(i.tested===0?"否":"是"),3)]),e("span",null,[be,e("text",{class:v({"text-red":i.hasUrl===0})},s(i.hasURL===0?"否":"是"),3)]),e("span",null,[fe,e("text",{class:v({"text-red":i.checked===0})},s(i.checked===0?"否":"是"),3)])]))),256))]),_:2},1024)]))),256))]),_:1})])):a.mode==="paper"?(c(),r("div",ge,[p(m,{style:{"box-sizing":"border-box","background-color":"#fff",padding:"1rem 1.5rem",border:"0 #f00 solid",height:"calc(100vh - 8rem)",width:"calc(100vw - 2rem)","margin-left":"1rem","border-radius":"0.75rem"}},{default:b(()=>[(c(!0),r(f,null,g(a.papers,o=>(c(),r("div",ve,[e("span",null,[ke,e("text",null,s(o.id),1)]),e("span",null,[Ie,e("text",null,s(o.examId),1)]),e("span",null,[ye,e("text",null,s(o.studentId),1)]),e("span",null,[Se,e("text",null,s(o.studentName),1)]),e("span",null,[De,e("text",null,s(o.testTime||"-"),1)]),e("span",null,[we,e("text",null,s(o.checkTime.slice(0,19).replace("T"," ")),1)]),e("span",null,[Ne,e("text",null,s(o.judge==="0"?"正确":"错误"),1)]),e("span",null,[Ce,e("text",Te,s(o.judgeScore),1)]),e("span",null,[je,e("text",null,s(o.baseScore),1)]),Ee]))),256))]),_:1})])):u("",!0)])}const ze=N(z,[["render",Me],["__scopeId","data-v-de2671af"]]);export{ze as default};
