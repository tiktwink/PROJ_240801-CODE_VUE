import{av as y,aw as _,b4 as c,b5 as u,ay as S,az as b,aA as p,aB as m,aG as e,am as o,b7 as l,aC as h,aD as x,F as g,b9 as w,aE as I,aH as i,aI as D,aJ as C,c as V}from"./index-4Bm1Eb5i.js";const N={data(){return{appStore:_(),students:[],id:"",name:"",classId:"",grade:"",addDialogShow:!1,addStudentId:"",addStudentName:"",addStudentClassId:"",addStudentGrade:"",addStudentGender:""}},mounted(){this.appStore.sideOn=!1,document.getElementById("rside").style.visibility="hidden"},methods:{addStudent(){if(this.addStudentId===""||this.addStudentName===""||this.addStudentClassId===""||this.addStudentGrade===""){this.$toast.add({severity:"warn",summary:"有必填信息未填",life:1500});return}c.post("/api/student/index",{id:this.addStudentId,name:this.addStudentName,classId:this.addStudentClassId,grade:this.addStudentGrade,birth:"2004-12-30",gender:this.addStudentGender==="0"?0:1},{headers:{username:u().username,token:u().token}}).then(a=>{console.log(a),a.data.code===0&&(this.$toast.add({severity:"success",summary:"新增学生成功！学生ID："+a.data.data,detail:"通知10s后自动隐藏",life:1e4}),this.addDialogShow=!1)}).catch(a=>{this.$toast.add({severity:"error",summary:"新增学生错误，请自查原因或联系管理员",life:3e3})})},queryStudent(){if(this.id===""&&this.name===""&&this.classId===""&&this.grade===""){this.$toast.add({severity:"warn",summary:"四个条件至少填写一个",life:3e3});return}c.get(`/api/student/index?id=${this.id}&name=${this.name}&classId=${this.classId}&grade=${this.grade}`,{headers:{token:u().token,username:u().username}}).then(a=>{a.data.code===0?(this.$toast.add({severity:"success",summary:"查询成功",life:1500}),console.log(a.data.data),this.students=a.data.data):this.$toast.add({severity:"warn",summary:"查询学生失败(错误)！请自查原因或联系管理员",life:3e3})}).catch(a=>{this.$toast.add({severity:"error",summary:"查询学生异常，请自查原因或联系管理员",life:3e3})})},resetQueryInfo(){this.id="",this.name="",this.classId="",this.grade=""}},components:{NScrollbar:S}},n=a=>(D("data-v-6e5d8382"),a=a(),C(),a),k={class:"student-root w-full flex flex-wrap gap-y-2.5 justify-center items-center rounded-lg"},U={class:"flex-auto p-4 min-w-[80%] min-h-[160px] bg-accent rounded-lg"},G=n(()=>e("p",{class:"font-bold text-2xl mt-1 mx-2"},[V("查询 "),e("span",{class:"font-normal text-base text-[#888] ml-1"},"(四个条件独立查询，优先级向右递减)")],-1)),q={class:"query-items flex flex-wrap items-center gap-x-3 pl-4"},j={class:"query-item w-[300px]"},z=n(()=>e("span",null,"⚫ 学生ID",-1)),B={class:"query-item"},E=n(()=>e("span",null,"⚫ 学生姓名",-1)),Q={class:"query-item"},T=n(()=>e("span",null,"⚫ 班级ID",-1)),A={class:"query-item"},F=n(()=>e("span",null,"⚫ 年级",-1)),H={class:"pl-2 mt-2 mb-1"},J=n(()=>e("span",{class:"font-bold text-2xl mb-3.5 mr-6"},"管理",-1)),L=n(()=>e("span",{class:"btn bg-white mr-6 hover:bg-secondary btn-sm px-6 text-lg border-none"},"删除",-1)),M=n(()=>e("span",{class:"btn bg-white mr-2 hover:bg-secondary btn-sm px-6 text-lg border-none"},"修改",-1)),O={class:"flex-auto p-4 min-w-[80%] h-[464px] bg-accent rounded-lg px-4"},K=w('<div class="labels flex" data-v-6e5d8382><span class="font-bold" data-v-6e5d8382>姓名</span><span class="font-bold" data-v-6e5d8382>学号(ID)</span><span class="font-bold" data-v-6e5d8382>班级ID</span><span class="font-bold" data-v-6e5d8382>班级名称</span><span class="font-bold" data-v-6e5d8382>年级</span><span class="font-bold" data-v-6e5d8382>性别</span><span class="font-bold" data-v-6e5d8382>入学时间</span><span class="font-bold" data-v-6e5d8382>出生日期</span></div>',1),P={class:"students flex cursor-pointer"},R=n(()=>e("span",null,"-",-1)),W=n(()=>e("div",{class:"text-lg mb-4"},"新增学生信息：",-1)),X={class:"add-dialog flex flex-wrap gap-y-3 gap-x-2"},Y={class:"flex justify-between items-center w-[16rem]"},Z=n(()=>e("span",null,"ID：",-1)),$={class:"flex items-center justify-between w-[16rem]"},ee=n(()=>e("span",null,"姓名：",-1)),te={class:"flex items-center justify-between w-[16rem]"},se=n(()=>e("span",null,"性别：",-1)),de={class:"flex items-center justify-between w-[16rem]"},ne=n(()=>e("span",null,"班级ID：",-1)),ae={class:"flex items-center justify-between w-[16rem]"},oe=n(()=>e("span",null,"年级：",-1)),le={class:"flex justify-between w-full mt-5"};function ie(a,s,re,ue,d,r){const f=b("NScrollbar"),v=b("Dialog");return p(),m(g,null,[e("div",k,[e("div",U,[G,e("div",q,[e("div",j,[z,o(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.id=t),placeholder:"精确查询(推荐)",type:"text"},null,512),[[l,d.id]])]),e("div",B,[E,o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.name=t),placeholder:"模糊查询",type:"text"},null,512),[[l,d.name,void 0,{trim:!0}]])]),e("div",Q,[T,o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>d.classId=t),placeholder:"精确查询",type:"text"},null,512),[[l,d.classId,void 0,{trim:!0}]])]),e("div",A,[F,o(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>d.grade=t),placeholder:"精确查询(7~12)",type:"text"},null,512),[[l,d.grade,void 0,{trim:!0}]])]),e("div",{class:"btn text-lg btn-sm bg-white hover:bg-secondary border-none mx-2 px-6 absolute right-[100px] top-[58px]",onClick:s[4]||(s[4]=(...t)=>r.resetQueryInfo&&r.resetQueryInfo(...t))}," 重填 "),e("div",{class:"btn text-lg btn-sm bg-white hover:bg-secondary border-none mx-2 px-6 absolute right-0 top-[58px]",onClick:s[5]||(s[5]=(...t)=>r.queryStudent&&r.queryStudent(...t))}," 查询 ")]),e("div",H,[J,e("span",{class:"btn bg-white mr-6 hover:bg-secondary btn-sm px-6 text-lg border-none",onClick:s[6]||(s[6]=t=>d.addDialogShow=!0)},"新增"),L,M])]),e("div",O,[K,h(f,{style:{"max-height":"380px",width:"100%","margin-top":"10px",padding:"0.5rem 1rem 1rem"}},{default:x(()=>[(p(!0),m(g,null,I(d.students,t=>(p(),m("div",P,[e("span",null,i(t.name),1),e("span",null,i(t.id),1),e("span",null,i(t.classId),1),R,e("span",null,i(t.grade),1),e("span",null,i(t.gender),1),e("span",null,i(String(t.entryTime).slice(0,10)),1),e("span",null,i(String(t.birth).slice(0,10)),1)]))),256))]),_:1})])]),h(v,{visible:d.addDialogShow,"onUpdate:visible":s[14]||(s[14]=t=>d.addDialogShow=t),style:{width:"20rem",padding:"0.5rem","border-radius":"1rem"},header:"新增学生",modal:""},{default:x(()=>[W,e("div",X,[e("div",Y,[Z,o(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>d.addStudentId=t),class:"h-[35px] w-[14rem] rounded-md bg-accent",style:{"text-indent":"1ch",outline:"none",border:"none","box-sizing":"border-box"},type:"text"},null,512),[[l,d.addStudentId,void 0,{trim:!0}]])]),e("div",$,[ee,o(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>d.addStudentName=t),class:"h-[35px] w-[13rem] rounded-md bg-accent",style:{"text-indent":"1ch",outline:"none",border:"none","box-sizing":"border-box"},type:"text"},null,512),[[l,d.addStudentName,void 0,{trim:!0}]])]),e("div",te,[se,o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>d.addStudentGender=t),class:"h-[35px] w-[13rem] rounded-md bg-accent",placeholder:"1男，0女",style:{"text-indent":"1ch",outline:"none",border:"none","box-sizing":"border-box"},type:"text"},null,512),[[l,d.addStudentGender,void 0,{trim:!0}]])]),e("div",de,[ne,o(e("input",{"onUpdate:modelValue":s[10]||(s[10]=t=>d.addStudentClassId=t),class:"h-[35px] w-[12rem] rounded-md bg-accent",style:{"text-indent":"1ch",outline:"none",border:"none","box-sizing":"border-box"},type:"text"},null,512),[[l,d.addStudentClassId,void 0,{trim:!0}]])]),e("div",ae,[oe,o(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>d.addStudentGrade=t),class:"h-[35px] w-[13rem] rounded-md bg-accent",placeholder:"注意：该项与班级ID绑定",style:{"text-indent":"1ch",outline:"none",border:"none","box-sizing":"border-box"},type:"text"},null,512),[[l,d.addStudentGrade,void 0,{trim:!0}]])])]),e("div",le,[e("span",{class:"border-none btn btn-sm px-4 bg-[#f5f5f5] hover:bg-secondary",onClick:s[12]||(s[12]=t=>d.addDialogShow=!1)},"取消"),e("span",{class:"border-none btn btn-sm px-4 bg-[#f5f5f5] hover:bg-error hover:text-white",onClick:s[13]||(s[13]=(...t)=>r.addStudent&&r.addStudent(...t))},"确认新增")])]),_:1},8,["visible"])],64)}const me=y(N,[["render",ie],["__scopeId","data-v-6e5d8382"]]);export{me as default};
