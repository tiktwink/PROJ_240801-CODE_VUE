import{av as o,b4 as d,aA as p,aB as u,aG as t,am as i,b7 as r,aI as h,aJ as m}from"./index-4Bm1Eb5i.js";import{m as x}from"./md5-BnymCYIi.js";const c={name:"UserSignup",data(){return{username:"",password:"",usernick:""}},methods:{toSignup(){if(!this.validUsername()){alert("用户名不合法");return}if(!this.validPassword()){alert("密码不合法");return}if(this.usernick.length>7){alert("昵称长度不正确");return}let s=x(this.password);d.post("/api/user/signin",{username:this.username,password:s,usernick:this.usernick}).then(e=>{e.data.code===0?alert(`注册成功，您的用户名是: ${this.username}`):e.data.code===1?(console.log(e),alert("用户名已存在")):(console.log(e),alert("注册失败，未知原因"))}).catch(e=>{console.log(e),alert("注册错误")})},validUsername(){if(this.username.length<6||this.username.length>30)return!1;var s=/^[a-zA-Z0-9]+$/;return!(!s.test(this.username)||/\s/.test(this.username)||this.username.indexOf("tiktwink")>=0||this.username.indexOf("lijp")>=0||this.username.indexOf("admin")>=0||this.username.indexOf("root")>=0)},validPassword(){var s=new RegExp("(?=.*[0-9])(?=.*[a-zA-Z]).{8,20}");return!(!s.test(this.password)||/\s/.test(this.password))}}},f=s=>(h("data-v-c58e3c51"),s=s(),m(),s),g={class:"bg-[#05aefc] h-[100vh] flex flex-col items-center p-4",style:{width:"100%"}},w=f(()=>t("div",{class:"font-bold text-2xl mt-4 mb-2 flex items-center gap-x-2 text-white pl-6",style:{width:"200px"}},[t("div",null,"注册学生账号"),t("span",{class:"wenhao",style:{width:"40px"}},[t("svg",{class:"icon",height:"16","p-id":"2122",t:"1710082565519",version:"1.1",viewBox:"0 0 1024 1024",width:"16",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M512 0a512 512 0 1 0 512 512A512.5632 512.5632 0 0 0 512 0z m0 819.2a51.2 51.2 0 1 1 0-102.4512A51.2 51.2 0 0 1 512 819.2z m51.2-232.1408V614.4a51.2 51.2 0 0 1-102.4 0v-72.6016a51.2 51.2 0 0 1 53.1456-51.1488 73.5232 73.5232 0 0 0 76.1856-73.7792 76.8512 76.8512 0 1 0-153.6-5.9392 50.4832 50.4832 0 0 1-53.0944 49.2032 51.2 51.2 0 0 1-49.152-53.0944A179.2 179.2 0 1 1 563.2 587.0592z",fill:"#ffffff","p-id":"2123"})]),t("span",{class:"wenhaotip",style:{"font-size":"0.8rem",color:"#fff","font-weight":"normal"}},"教师账号由管理员授权颁发，不支持自行注册！")])],-1)),v={class:"flex flex-col items-center px-2 gap-y-3 my-4",style:{width:"400px"}},b={class:"my-2 flex justify-between gap-x-2",style:{width:"320px"}};function y(s,e,k,S,a,l){return p(),u("div",g,[w,t("div",v,[t("div",null,[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),class:"w-[320px] h-[40px] outline-none px-2 py-1 rounded-lg bg-white text-black text-base",maxlength:"31",placeholder:"学号(由学校颁发，6-20位)",type:"text"},null,512),[[r,a.username,void 0,{trim:!0}]])]),t("div",null,[i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),class:"w-[320px] h-[40px] outline-none px-2 py-1 rounded-lg bg-white text-black text-base",maxlength:"127",placeholder:"密码(必须包含字母、数字，8-20字)",type:"password"},null,512),[[r,a.password,void 0,{trim:!0}]])]),t("div",null,[i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>a.usernick=n),class:"w-[320px] h-[40px] outline-none px-2 py-1 rounded-lg bg-white text-black text-base",maxlength:"8",placeholder:"实名(必选，最多7字)",type:"text"},null,512),[[r,a.usernick,void 0,{trim:!0}]])])]),t("div",b,[t("div",{class:"w-[150px] btn btn-sm btn-ghost bg-base-100 hover:bg-secondary",onClick:e[3]||(e[3]=n=>s.$router.push("/login"))}," 返回登录 "),t("div",{class:"w-[150px] btn btn-sm btn-ghost bg-base-100 hover:bg-secondary",onClick:e[4]||(e[4]=(...n)=>l.toSignup&&l.toSignup(...n))},"提交注册 ")])])}const z=o(c,[["render",y],["__scopeId","data-v-c58e3c51"]]);export{z as default};
